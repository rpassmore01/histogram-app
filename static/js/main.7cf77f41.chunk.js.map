{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Upload","props","state","file","redValues","blueValues","greenValues","imgCounter","handleChange","bind","updateValue","drawChart","event","target","files","this","setState","URL","createObjectURL","domain","d3","margin","width","height","svg","append","attr","x","range","call","histogram","thresholds","ticks","redBins","blueBins","greenBins","y","d","length","selectAll","data","enter","x0","x1","style","text","Jimp","read","err","img","localredValues","localgreenValues","localblueValues","i","bitmap","j","hex","getPixelColor","RGBA","intToRGBA","push","r","g","b","type","onChange","className","src","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7cf77f41.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\nimport Jimp from 'jimp';\nimport * as d3 from \"d3\";\n\nclass Upload extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      file: null,\n      redValues: [],\n      blueValues: [],\n      greenValues: [],\n      imgCounter: 1\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.updateValue = this.updateValue.bind(this)\n    this.drawChart = this.drawChart.bind(this)\n  }\n  handleChange(event) {\n\n    if(event.target.files[0] != null){\n      this.setState({\n        file: URL.createObjectURL(event.target.files[0])\n      }, () => {this.updateValue();})\n    }\n  }\n  drawChart() {\n    let min = d3.min(this.state.redValues);\n    let max = d3.max(this.state.redValues);\n    let domain = [min, max];\n\n    var margin = { top: 30, right: 30, bottom: 30, left: 50 },\n      width = 460 - margin.left - margin.right,\n      height = 400 - margin.top - margin.bottom;\n\n    var svg = d3.select(\".svg-div\")\n      .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n        .attr(\"transform\", \n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    var x = d3.scaleLinear()\n      .domain(domain)\n      .range([0, width]);\n    svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x));\n    \n    var histogram = d3.histogram()\n      .domain(x.domain())\n      .thresholds(x.ticks(255));\n    \n    var redBins = histogram(this.state.redValues);\n    var blueBins = histogram(this.state.blueValues);\n    var greenBins = histogram(this.state.greenValues);\n    \n    var y = d3.scaleLinear()\n      .range([height, 0])\n      .domain([\n        0,\n        d3.max(blueBins, function(d) {\n          return d.length;\n        })\n      ]);\n\n    svg.append(\"g\").call(d3.axisLeft(y));\n\n    svg\n      .selectAll(\"rect\")\n      .data(redBins)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 1)\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n      })\n      .attr(\"width\", function(d) {\n        return x(d.x1) - x(d.x0) - 1;\n      })\n      .attr(\"height\", function(d) {\n        return height - y(d.length);\n      })\n      .style(\"fill\", \"red\")\n      .style(\"opacity\", \"0.6\");\n      \n    svg\n      .selectAll(\"rect2\")\n      .data(greenBins)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 1)\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n      })\n      .attr(\"width\", function(d) {\n        return x(d.x1) - x(d.x0) - 1;\n      })\n      .attr(\"height\", function(d) {\n        return height - y(d.length);\n      })\n      .style(\"fill\", \"green\")\n      .style(\"opacity\", \"0.6\");;\n\n    svg\n      .selectAll(\"rect3\")\n      .data(blueBins)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 1)\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n      })\n      .attr(\"width\", function(d) {\n        return x(d.x1) - x(d.x0) - 1;\n      })\n      .attr(\"height\", function(d) {\n        return height - y(d.length);\n      })\n      .style(\"fill\", \"blue\")\n      .style(\"opacity\", \"0.6\");\n\n    \n//draws axis titles\n    svg.append(\"text\")\n      .attr(\"class\", \"x label\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", width)\n      .attr(\"y\", height)\n      .text(\"Pixel Value 0-255\");\n\n    svg.append(\"text\")\n      .attr(\"class\", \"y label\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"y\", 6)\n      .attr(\"dy\", \".75em\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .text(\"Pixel Count\");\n\n    svg.append(\"text\")\n      .attr(\"class\", \"y label\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"y\", 0 - (margin.top/ 2))\n      .attr(\"x\", (width / 2))\n      .text(\"Graph \" + this.state.imgCounter);\n      \n  }\n  updateValue() {\n    Jimp.read(this.state.file, (err, img) => {\n      let localredValues = [];\n      let localgreenValues = [];\n      let localblueValues = [];\n      for (let i = 0; i < img.bitmap.width; i++){\n        for (let j = 0; j < img.bitmap.height; j++){\n          let hex = img.getPixelColor(i, j);\n          let RGBA = Jimp.intToRGBA(hex);\n          localredValues.push(RGBA.r)\n          localgreenValues.push(RGBA.g)\n          localblueValues.push(RGBA.b)\n        }\n      }\n      this.setState({\n        redValues: localredValues,\n        blueValues: localblueValues,\n        greenValues: localgreenValues\n      })\n      this.drawChart();\n    })\n  }\n  \n  render() {\n    return (\n      <div>\n        <h1>Histogram Web App</h1>\n        <p>Upload a photo to see a histogram for the image, or upload multiple to compare histograms.</p>\n        <input type=\"file\" onChange={this.handleChange} />\n        <div className=\"photo-graph-div\">\n          <div className=\"img-div\">\n            {this.state.file == null ? <p>No Image Uploaded</p> :  <img src={this.state.file} />}\n          </div>\n\n          <div className=\"svg-div\"></div>\n\n        </div> \n      </div>\n    );\n  }\n}\n\nexport default Upload;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}